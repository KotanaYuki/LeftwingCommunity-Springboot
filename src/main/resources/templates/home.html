<!DOCTYPE html>
<!-- 加载thymeleaf模板 -->
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Leftwing-Community首页</title>
    <link rel="icon" th:href="@{/img/newlogo.png}" href="../static/img/newlogo.png" type="image/x-icon">

    <!-- 加载Bootstrap V5，Springboot项目自动扫描resource资源目录 -->
    <link th:href="@{/bootstrap-5.1.3-dist/css/bootstrap.min.css}"
          href="../static/bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <script th:src="@{/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js}"
            src="../static/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js" type="text/javascript"
            charset="utf-8"></script>

    <!-- 加载index.css -->
    <link th:href="@{/css/index.css}" href="../static/css/index.css" rel="stylesheet" type="text/css">

</head>

<body>

<!-- 顶部导航栏:灰色的水平导航栏在小型屏幕上变为垂直 -->
<nav class="navbar navbar-expand-lg bg-danger navbar-dark sticky-top" th:fragment="home_nav">

    <div class="container-fluid">
        <!-- 设置Logo -->
        <a class="navbar-brand" href="#" th:href="@{/home}">
            <img th:src="@{/img/newlogo.png}" src="../static/img/newlogo.png" alt="Logo" width="32" height="32"
                 class="d-inline-block align-text-top">
            Leftwing Community
        </a>

        <!-- 设置小屏按钮折叠导航栏 -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <!-- 后面的标签向右对齐 -->
            <div class="me-auto"></div>

            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="#" th:href="@{/home}">首页</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" th:href="@{/article_list?page=1}">Blogs</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" th:href="@{/library}">文库</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" th:href="@{/assistance}">支持我们</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" th:href="@{/about}">关于</a>
                </li>
            </ul>

            <!-- 搜索功能表单 -->
            <form class="d-flex" action="#" th:action="@{/article_search}" method="get">
                <input class="form-control me-2" type="text" name="content_like" placeholder="Enter the words"
                       required="required">
                <input class="" type="hidden" name="page" value="1">

                <button class="btn btn-dark" type="submit">Search</button>
            </form>

        </div>
    </div>

</nav>


<!-- 网站内容 -->
<div class="container">

    <!-- 正文:背景透明 -->
    <div class="mt-3 rounded" id="bg">

        <!-- 第一行 -->
        <div class="row">
            <div class="col-12">
                <div class="container mt-3 rounded">
                    <!-- Jumbotron -->
                    <div class="row mt-4 p-5 bg-danger text-white rounded">
                        <h1>欢迎访问 Leftwing Community ！</h1>
                        <p>
                            本文库致力于<strong>左翼进步文化</strong>的推广，刊载哲学社科类社评文章、国内外左翼运动报导与其他文体；收录有当今各主流学派的学术观点与，<strong>经典著作</strong>。
                        </p>
                        <p>注：本项目处于<strong>测试阶段</strong>，WEB应用内部的Logo、图片素材和部分转载文章内容等均来源于网络，<strong>仅用于个人学习用途</strong>，若侵犯了您的著作权请即使联系
                            <strong>tfiyuenlau@foxmail.com</strong>
                            进行删除。网站仍在测试阶段，未部署域名解析与Https协议；网站积极依照《网络安全法》《网络安全管理条例》相关法律条例进行运营，若存在黄赌毒、政治敏感言论请向网站管理员举报，谢谢配合。
                        </p>
                    </div>

                    <div class="row mt-3 rounded">
                        <img class="img-thumbnail img-fluid mx-auto d-block" src="../static/img/封面图.jpg" alt="导师"
                             th:src="@{/img/封面图.jpg}">
                        <p class="h6 text-center text-muted">
                            图中从左到右依次为——马克思、马赫诺、列宁、毛泽东、阿尔都塞、齐泽克.</p>
                    </div>

                </div>
            </div>
        </div>

        <!-- 第二行 -->
        <div class="row">
            <div class="container mt-3 rounded">
                <div class="row">

                    <!-- 正文内容 -->
                    <div class="col-lg-9 mt-3">
                        <p class="lead" style="text-indent: 2em">
                            左翼一词一说起源于法国大革命时期：革命家将象征封建制度的、代表落后生产力而阻挠资产阶级民主的皇帝及其保皇派簇拥们称为<strong>右派（或右翼、反动派）</strong>，将显出勃勃生机并羽翼渐丰满的资产阶级革命者称之为<strong>左派（左翼）</strong>。在其百年后的近代，这些词的内涵并未改变，右翼仍代表着统治阶级的<strong>专权与压迫</strong>、<strong>狭隘的民族视角</strong>、对已然<strong>腐化之现状</strong>的捍卫；左翼则以实践争取着底层即多数人的最大利益，探讨与找寻<strong>社会公平的实现方式</strong>，以温和改革或激进革命的方式对暴露弊病的现实进行<strong>否定</strong>。
                        </p>
                        <p class="lead" style="text-indent: 2em">
                            然而，恪守左翼进步主义的知识分子早已不是<strong>资产阶级</strong>与<strong>威权建制派</strong>们。他们或是<strong>享受着资本扩张</strong>的愉悦，以传播<strong>消费主义</strong>与占据<strong>房地产及其附属金融产业（房产抵押贷款）</strong>近乎法西斯式地控制着普罗大众（The
                            Proletariat）的生产与消费行为；或是<strong>背弃</strong>无产阶级，官商勾结，无视父辈们为劳动者们制定的法律，以已然蜕变为技术官僚统治工具的行政权力<strong>为己谋私利</strong>。左翼的大旗则落到了吸收有马克思主义思想内核、与继承了安那其主义反叛传统的思想流派。
                        </p>
                        <p class="lead" style="text-indent: 2em">
                            事实上，我们都知道，左翼各流派完全不是一团和气的。至少在当今网络环境上，<strong>原初马克思主义、安那其主义、列宁主义、工团主义、马赫诺主义、斯派、托派、毛主义、西马及法兰克福学派、社民、民社</strong>相互“开除左籍”、互扣帽子，这样的<strong>路线之争造成了理论混乱</strong>，“同僚”们在斗争空耗斗志。我们需得在<strong>进步之大旗</strong>下集结，结成统一战线，在哲学理论斗争的相互诘难中共同趋向成熟，在实践斗争中互济互助。
                        </p>
                    </div>

                    <!-- 文章推荐 -->
                    <div class="col-lg-3">
                        <div class="mt-3 rounded">
                            <div class="list-group text-break" style="width: 100%">
                                <a href="#"
                                   class="list-group-item list-group-item-action active list-group-item-danger">推荐文章</a>
                                <div th:each="recommendArticle, status:${recommendArticles}">
                                    <a href="#" th:href="${'/article?id=' + recommendArticle.getId()}"
                                       class="list-group-item list-group-item-action"
                                       th:text="${recommendArticle.getTitle()}">《约·菲·贝克尔、约·狄慈根、弗·恩格斯、卡·马克思等致弗·阿·左尔格等书信集》俄译本序言(1907年4月6日〔19日〕)</a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- 第三行-->
        <div class="container row">
            <div class="card border-warning shadow mt-3">
                <div class="card-body">
                    <div class="row">
                        <div class="col-12">
                            <div style="float: left;">
                                <img class="img-fluid" style="max-width: 48px"
                                     th:src="@{/img/公告栏.png}" src="../static/img/公告栏.png" alt="公告栏">
                            </div>
                            <div class="h1 text-center"
                                 style="font-family: 楷体,serif;color: #494D55;font-weight: 600;word-spacing: 8px">
                                公 告 栏
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <!-- 最新消息 -->
                        <div class="col-lg-8">
                            <h3 class="border-start border-warning text-danger"
                                style="font-family: 楷体,serif;font-weight: 600;">最新消息</h3>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item" th:each="announcement, status:${announcements}">
                                    <a class="text-black text-decoration-none lead" target="_blank"
                                       href="announcement.html" th:href="${'/announcement?id=' + announcement.getId()}"
                                       th:text="${announcement.getTitle()}">
                                        游客须知 | 左翼社区将用于收录各重要文章与网络资源
                                    </a>
                                    <span class="badge bg-secondary" th:text="${'发布时间：' + announcement.getTime()}">
                                        发布时间：2023年01月11日
                                    </span>
                                </li>
                            </ul>
                            <div class="text-end">
                                <button class="btn btn-sm btn-danger" type="button" data-bs-toggle="offcanvas"
                                        data-bs-target="#announcementOffcanvas" aria-controls="offcanvasExample">
                                    显示更多
                                </button>
                            </div>
                        </div>

                        <!-- 版本日志 -->
                        <div class="col-lg-4">
                            <h3 class="border-start border-warning text-danger"
                                style="font-family: 楷体,serif;font-weight: 600;">版本日志</h3>
                            <div th:each="versionLog, status:${versionLogs}">
                                <div class="box" th:classappend="${status.first}?firstOne">
                                    <span class="badge bg-danger" th:text="${versionLog.getVersion()}">version</span>：
                                    <div>
                                        <span th:text="${versionLog.getLog()}">页面大量更新并增加了后台管理面板</span>
                                        <span class="badge bg-secondary" th:text="${versionLog.getTime()}">
                                            2022-10-11
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="text-end">
                                <button class="btn btn-sm btn-danger" type="button" data-bs-toggle="offcanvas"
                                        data-bs-target="#versionOffcanvas" aria-controls="offcanvasExample">
                                    显示更多
                                </button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- 公告栏消息的滑动侧边栏 -->
        <div class="offcanvas offcanvas-start" tabindex="-1" id="announcementOffcanvas"
             data-bs-scroll="true" aria-labelledby="offcanvasExampleLabel1">
            <div class="offcanvas-header">
                <h3 class="offcanvas-title border-start border-warning text-danger"
                    id="offcanvasExampleLabel1" style="font-family: 楷体,serif;font-weight: 600;">最新消息</h3>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item" th:each="announcement, status:${announcementList}">
                        <a class="text-black text-decoration-none lead" target="_blank" href="announcement.html"
                           th:href="${'/announcement?' + announcement.getId()}" th:text="${announcement.getTitle()}">
                            游客须知 | 左翼社区将用于收录各重要文章与网络资源
                        </a>
                        <span class="badge bg-secondary" th:text="${'发布时间：' + announcement.getTime()}">
                            发布时间：2023年01月11日
                        </span>
                    </li>
                </ul>
            </div>
        </div>
        <!-- 公告栏版本日志的滑动侧边栏 -->
        <div class="offcanvas offcanvas-end" tabindex="-1" id="versionOffcanvas"
             data-bs-scroll="true" aria-labelledby="offcanvasExampleLabel2">
            <div class="offcanvas-header">
                <h3 class="offcanvas-title border-start border-warning text-danger"
                    id="offcanvasExampleLabel2" style="font-family: 楷体,serif;font-weight: 600;">版本日志</h3>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <div th:each="versionLog, status:${versionLogList}">
                    <div class="box" th:classappend="${status.first}?firstOne">
                        <span class="badge bg-danger" th:text="${versionLog.getVersion()}">version</span>：
                        <div>
                            <span th:text="${versionLog.getLog()}">页面大量更新并增加了后台管理面板</span>
                            <span class="badge bg-secondary" th:text="${versionLog.getTime()}">
                                2022-10-11
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <br>
    </div>
    <!-- 底部留白 -->
    <br>
    <br>

</div>

<!-- 页脚 -->
<footer class="bg-danger mt-3" style="position: relative;bottom: 0;width: 100%;" th:fragment="home_footer">
    <div class="container text-center">
        <div class="row">
            <div class="col-12">
                <!-- logo图片 -->
                <div style="float: left;" id="displayImg">
                    <img src="../static/img/logo.png" th:src="@{/img/logo.png}" alt="网站logo" style="max-width: 83px">
                </div>
                <!-- 底部页脚文字 -->
                <div class="text-warning" style="font-size: 0.9rem">
                    <strong>友情链接</strong>：
                    <a class="btn" style="color: #FC8C23"
                       href="https://www.marxists.org/" target="_blank"><strong>马克思主义中文网</strong></a>
                    <span style="margin: 0 3px;">/</span>
                    <a class="btn" style="color: #FC8C23"
                       href="https://github.com/TfiyuenLau/LeftwingCommunity-Springboot"
                       target="_blank"><strong>GitHub项目地址</strong></a>
                    <br>
                    <strong>Copyright &copy; 2022
                        <a class="btn btn-lg" style="color: #FC8C23"
                           href="https://www.cnblogs.com/MatikaneSpartakusbund/" target="_blank">
                            <strong>@Matikane Spartakusbund</strong>
                        </a>.</strong> All rights reserved.
                </div>
            </div>
        </div>

    </div>
</footer>

<script>
    /**
     * 检测媒体屏幕，当为小型屏幕时隐藏部分标签
     */
    let hidDiv = function () {
        //隐藏logo
        let img = document.getElementById('displayImg');
        img.style.display = document.documentElement.clientWidth > 768 ? 'block' : 'none'
    }

    //添加事件监听，触发hid()函数
    window.onresize = hidDiv()
    window.addEventListener("beforeunload", hidDiv())
</script>

<!-- 取消bootstrap边距，解决移动端右划白边 -->
<style>
    /**/
    .row {
        margin: 0;
    }
</style>
<!-- 版本日志css样式-->
<style>
    .box {
        border-left: 2px solid #d1d7de;
        padding: 0 0 10px 15px;
        position: relative;
        pointer-events: none;
    }

    .box::before {
        position: absolute;
        left: -8px;
        content: '';
        width: 12px;
        height: 12px;
        border-radius: 50ch;
        background-color: #d1d7de;
    }

    .box:nth-child(1)::before {
        width: 16px;
        height: 16px;
        left: -9px;
        cursor: pointer;
        pointer-events: all;
    }
</style>
<!-- 版本日志js -->
<script>
    let boxes = document.querySelectorAll('.box')
    let firstOne = document.querySelector('.firstOne')
    let before = window.getComputedStyle(firstOne, '::before'); //获取伪元素
    let hid = false
    firstOne.addEventListener('click', () => {
        if (hid == false) {
            document.querySelectorAll('.box').forEach((e) => {
                e.style.display = 'none'
            })
            document.querySelector('.firstOne').style.display = "block"
            hid = true
        } else {
            document.querySelectorAll('.box').forEach((e) => {
                e.style.display = 'block'
            })
            hid = false
        }

    })

</script>

</body>
</html>